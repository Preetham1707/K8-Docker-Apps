FROM node:20-alpine

WORKDIR /usr/src/app

# Install necessary packages
RUN apk add --no-cache shadow 

# create attendence user and group
RUN groupadd -g 10001 attendence && \
   useradd -u 10000 -g attendence attendence && \
   chown -R attendence:attendence /usr/src/app

COPY . .

ENV API=http://backend:8000

RUN  npm install 

EXPOSE 3000

CMD [ "start" ]

ENTRYPOINT [ "npm" ]